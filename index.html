<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unified TypeFlow</title>
    <link rel="stylesheet" href="css/style.css">

    <!-- Existing Scripts -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="js/socketManager.js"></script>
    <script src="js/p5.js"></script>
</head>

<body>
    <!-- Inverted Mouse Cursor (Moved to root to avoid container transforms) -->
    <div id="inverted-cursor"></div>

    <div id="app-container">
        <!-- React Root (New Layer: Z-index 0) -->
        <div id="react-root"></div>

        <!-- Layer 1: Background (Z-Index -1, managed by BackgroundModule) -->
        <div id="canvas-background" style="z-index: 0; display: none;"></div>

        <!-- Layer 2: Typography (Z-Index 1) -->
        <div id="canvas-type" style="display: none;"></div>

        <!-- Legacy State Container (Hidden) - Keeps inputs required by legacy logic -->
        <div id="legacy-state-container" style="display: none;">
            <input type="text" id="player-name" placeholder="Guest" maxlength="15">
            <input type="color" id="player-color" value="#00ffcc">

            <select id="bg-type-select">
                <option value="wireframe" selected>Wireframe (p5.js)</option>
                <option value="color_bends">Color Bends (React)</option>
                <option value="dark_veil">Dark Veil (React)</option>
                <option value="dither">Dither (React)</option>
                <option value="starfield">StarField (React)</option>
                <option value="aurora">Aurora (React)</option>
                <option value="blocks">Blocks (React)</option>
                <option value="particles">Particles (React)</option>
                <option value="silk">Silk (React)</option>
                <option value="spline">Spline 3D (React)</option>
                <option value="spline_new">Spline (New)</option>
                <option value="none">None</option>
            </select>

            <textarea id="textArea" rows="3">Colab
Experiment Together</textarea>

            <!-- Other inputs referenced by main.js listeners are not strictly needed 
                 if React controls call updateParams directly, but keeping structure clean. -->
        </div>
    </div>

    <!-- Existing Logic scripts -->
    <script src="js/IntroScreen.js"></script>
    <script src="js/animators.js"></script>
    <script src="js/KineticLetter.js"></script>
    <script src="js/KineticWord.js"></script>
    <script src="js/KineticGroup.js"></script>
    <script src="js/ShapeLayout.js"></script>
    <script src="js/update.js"></script>
    <script src="js/sketch.js"></script>
    <script src="js/BackgroundModule.js"></script>
    <script src="js/AudioModule.js"></script>
    <script src="js/main.js"></script>
    <script src="js/invertedCursor.js"></script>

    <!-- NEW: React Entry Point -->
    <script type="module" src="/src/main.jsx"></script>
</body>

</html>